<div class="container">
  <div class="row">
    <div class="mx-auto">
      <h3 class="mt-3 mb-3"> Our blog has <%= Post.count %> Posts and counting! </h3>

      <div id="posts">
        <% @posts.each do |post| %>
            <h4><%= link_to post.title, post, class:"text-decoration-none text-warning" %> </h4>       
            <p><%= link_to truncate(post.content, length:100), post, class:"text-decoration-none text-light" %> </p>
            <p class="text-info" ><%= time_ago_in_words(post.created_at) %> ago </p>
            <p><%= post.user.email %> </p>       
          
            
          <% if post.user == current_user %>
            <div class="d-flex">                 
              <p><%= link_to "Edit", edit_post_path(post), class:"text-decoration-none btn btn-outline-warning btn-sm mr-2" %> </p>
          
              <p><%= link_to "Delete", post_path(post), class:"text-decoration-none btn btn-outline-secondary btn-sm ", data: {
                      turbo_method: :delete,
                      turbo_confirm: "Are you sure?"
                  } %>
              </p>
            </div>
          <% end %>
          <hr class="bg-primary"> 
        <% end %>
      </div>
    
      <%= link_to "New post", new_post_path, class:"btn btn-success" %>
    
    </div>
  </div>
</div>